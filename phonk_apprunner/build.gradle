//apply plugin: 'android'
apply plugin: 'com.android.library'


android {
    flavorDimensions "default_apprunner"

    compileSdkVersion 25
    buildToolsVersion '26.0.2'

    //defaultPublishConfig "normalrunnerDebug"
    //defaultPublishConfig "extendedrunnerDebug"
    publishNonDefault true

    defaultConfig {
        minSdkVersion 19 // change to 16
        targetSdkVersion 24

        versionCode 25
        versionName "0.25.0"
    }

    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_7
        targetCompatibility JavaVersion.VERSION_1_7
    }
    buildTypes {
        release {
 			minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }

    packagingOptions {
        exclude 'META-INF/DEPENDENCIES.txt'
        exclude 'META-INF/LICENSE.txt'
        exclude 'META-INF/NOTICE.txt'
        exclude 'META-INF/NOTICE'
        exclude 'META-INF/LICENSE'
        exclude 'META-INF/DEPENDENCIES'
        exclude 'META-INF/notice.txt'
        exclude 'META-INF/license.txt'
        exclude 'META-INF/dependencies.txt'
        exclude 'META-INF/LGPL2.1'
    }


    dexOptions {
        jumboMode true
    }
}


repositories {

    maven { url 'https://github.com/kshoji/USB-MIDI-Driver/raw/master/MIDIDriver/snapshots' }
    maven { url 'https://oss.sonatype.org/content/repositories/snapshots/' }
    maven { url 'https://jitpack.io' }
    maven { url 'http://maven.google.com'}

    mavenCentral()
    jcenter()

    flatDir { dirs 'libs' }
}


dependencies {

    //compile fileTree(dir: 'libs', include: ['*.jar'])

    //android support
    compile "com.android.support:appcompat-v7:25.4.0"           //ok
    compile 'com.android.support:recyclerview-v7:25.4.0'        //ok
    compile 'com.android.support:cardview-v7:25.4.0'            //ok
    compile 'com.android.support:palette-v7:25.4.0'             //ok
    compile 'com.android.support:design:25.4.0'                 //ok
    compile 'com.android.support:customtabs:25.4.0'


    compile files('libs/obj-0.2.1.jar')
    // compile files('libs/arcore_client.aar')

    compile (name: 'arcore_client', ext: 'aar')
    // compile (name: 'obj-0.2.1', ext: 'jar')

    //some of the apache libs collide with the ones in Android, better to include them as jars
    // compile files('libs/commons-lang3-3.1.jar')
    compile files('libs/commons-logging-1.1.3.jar')
    compile files('libs/commons-net-3.0.1.jar')
    compile files('libs/commons-codec-1.10.jar')
    compile files('libs/commons-io-2.4.jar')
    compile files('libs/httpclient-4.3.4.jar')
    compile files('libs/httpclient-cache-4.3.4.jar')
    compile files('libs/httpcore-4.3.2.jar')
    compile files('libs/httpmime-4.3.4.jar')
    compile 'org.greenrobot:eventbus:3.0.0'                     //ok
    compile files('libs/ftpserver-core-1.0.6.jar')
    compile files('libs/mina-core-2.0.4.jar')
    compile 'org.apache.commons:commons-lang3:3.5'

    compile 'org.mozilla:rhino:1.7.7.2'                         // ok

    //network
    compile files('libs/java_websocket.jar')
    compile files('libs/android-websockets.jar')
    compile files('libs/mail.jar')
    compile files('libs/activation.jar') //part of mail
    compile files('libs/additionnal.jar') //part of mail
    compile 'de.sciss:netutil:1.0.0'                            // ok
    compile 'org.fusesource.mqtt-client:mqtt-client:1.12'       // ok
    compile 'org.nanohttpd:nanohttpd:2.3.1'
    compile group: 'com.jcraft', name: 'jsch', version: '0.1.54'


    //media
    compile 'org.puredata.android:pd-core:1.0.2'
    compile files('libs/processing_core.jar')
    compile files('libs/processing_cardboard.jar')
    // compile files('libs/gvr-audio.jar')
    // compile files('libs/gvr-base.jar')
    // compile files('libs/gvr-common.jar')
    compile 'com.github.japgolly.android:svg-android:2.0.6' //'files('libs/androidsvg-1.2.1.jar')

    //osmdroid
    compile 'org.osmdroid:osmdroid-android:5.6.5'
    // compile 'com.github.MKergall.osmbonuspack:OSMBonusPack:v5.7'

    //hardware stuff
    compile files('libs/ioiolibaccessory.jar')
    compile files('libs/ioiolibandroid.jar')
    compile files('libs/ioiolibbt.jar')
    // compile 'com.hoho.android:usb-serial-for-android:0.2.0-SNAPSHOT'
    compile files('libs/usb-serial-for-android.jar')

    compile 'jp.kshoji:midi-driver:0.1.4:@aar'
    //compile files('libs/physicaloidlibrary.jar')
    compile files('libs/physicaloidhoney.jar')

    //other libs
    compile 'net.lingala.zip4j:zip4j:1.3.2'                     // ok
    compile 'com.google.code.gson:gson:2.6.2'                   // ok
    //compile files('libs/slf4j-android-1.7.6.jar')
    //compile files('libs/slf4j-api-1.7.6.jar')

    // https://mvnrepository.com/artifact/com.google.zxing/core
    compile group: 'com.google.zxing', name: 'core', version: '3.3.0'

    // https://mvnrepository.com/artifact/com.google.zxing/android-core
    compile group: 'com.google.zxing', name: 'android-core', version: '3.3.0'

    compile 'com.squareup.okhttp3:okhttp:3.9.0'
    compile 'com.squareup.picasso:picasso:2.5.2'

}

